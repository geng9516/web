package jp.smartcompany.controller;

import cn.hutool.core.date.DateUtil;
import jp.smartcompany.boot.common.GlobalResponse;
import jp.smartcompany.job.modules.core.util.PsDBBean;
import jp.smartcompany.job.modules.tmg.overtimeInstruct.OvertimeInstructBean;
import jp.smartcompany.job.modules.tmg.util.TmgReferList;
import jp.smartcompany.job.modules.tmg.util.TmgUtil;
import lombok.RequiredArgsConstructor;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.ModelMap;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestAttribute;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;

@Controller
@RequestMapping("test")
@RequiredArgsConstructor(onConstructor = @__(@Autowired))
public class TestController {

    private String baseDate = DateUtil.format(DateUtil.date(),TmgReferList.DEFAULT_DATE_FORMAT);

    // 勤怠管理サイト Test  11
    // TmgTreeViewForAdminEmp.jsp
    @GetMapping("rf1")
    public String setReferList1(@RequestAttribute("BeanName") PsDBBean psDBBean, ModelMap modelMap) throws Exception {
        psDBBean.requestHash.put("SiteId", TmgUtil.Cs_SITE_ID_TMG_ADMIN);
        TmgReferList referList = new TmgReferList(psDBBean, "TmgSample", baseDate, TmgReferList.TREEVIEW_TYPE_EMP, true,
                                 true, false, false, true);
        String orgTree = referList.getJSONArrayForOrgTree();
        System.out.println(orgTree);
        // 结果： [{data:{level:'1',label:'医薬基盤・健康・栄養研究所(0)',secid:'000000',secname:'医薬基盤・健康・栄養研究所(0)',secnic:'医薬基盤・健康・栄養研究所',cust:'01',comp:'01'},child:[{data:{level:'2',label:'役員等(2)',secid:'100000000000',secname:'役員等(2)',secnic:'役員等',cust:'01',comp:'01'}},{data:{level:'2',label:'（本部）(0)',secid:'200000000000',secname:'（本部）(0)',secnic:'（本部）',cust:'01',comp:'01'},child:[{data:{level:'3',label:'総務部(8)',secid:'201000000000',secname:'総務部(8)',secnic:'総務部',cust:'01',comp:'01'},child:[{data:{level:'4',label:'総務課(12)',secid:'201000201010',secname:'総務課(12)',secnic:'総務課',cust:'01',comp:'01'}},{data:{level:'4',label:'会計課(17)',secid:'201000201020',secname:'会計課(17)',secnic:'会計課',cust:'01',comp:'01'}}]},{data:{level:'3',label:'監査担当(0)',secid:'202000000000',secname:'監査担当(0)',secnic:'監査担当',cust:'01',comp:'01'},child:[{data:{level:'4',label:'監査担当(2)',secid:'202000202010',secname:'監査担当(2)',secnic:'監査担当',cust:'01',comp:'01'}}]},{data:{level:'3',label:'戦略企画部(1)',secid:'203000000000',secname:'戦略企画部(1)',secnic:'戦略企画部',cust:'01',comp:'01'},child:[{data:{level:'4',label:'戦略企画課(7)',secid:'203000203010',secname:'戦略企画課(7)',secnic:'戦略企画課',cust:'01',comp:'01'}}]},{data:{level:'3',label:'研究倫理審査調査室(0)',secid:'204000000000',secname:'研究倫理審査調査室(0)',secnic:'研究倫理審査調査室',cust:'01',comp:'01'},child:[{data:{level:'4',label:'研究倫理審査調整室(3)',secid:'204000204010',secname:'研究倫理審査調整室(3)',secnic:'研究倫理審査調整室',cust:'01',comp:'01'}}]}]},{data:{level:'2',label:'医薬基盤研究所(1)',secid:'300000000000',secname:'医薬基盤研究所(1)',secnic:'医薬基盤研究所',cust:'01',comp:'01'},child:[{data:{level:'3',label:'開発振興部(16)',secid:'301000000000',secname:'開発振興部(16)',secnic:'開発振興部',cust:'01',comp:'01'},child:[{data:{level:'4',label:'企画管理課(1)',secid:'301000301010',secname:'企画管理課(1)',secnic:'企画管理課',cust:'01',comp:'01'}},{data:{level:'4',label:'開発振興課(2)',secid:'301000301020',secname:'開発振興課(2)',secnic:'開発振興課',cust:'01',comp:'01'}},{data:{level:'4',label:'開発調整課(3)',secid:'301000301030',secname:'開発調整課(3)',secnic:'開発調整課',cust:'01',comp:'01'}},{data:{level:'4',label:'ＳＩＰ事業グループ(3)',secid:'301000301040',secname:'ＳＩＰ事業グループ(3)',secnic:'ＳＩＰ事業グループ',cust:'01',comp:'01'}}]},{data:{level:'3',label:'難治性疾患研究開発・支援センター(2)',secid:'302000000000',secname:'難治性疾患研究開発・支援センター(2)',secnic:'難治性疾患研究開発・支援センター',cust:'01',comp:'01'},child:[{data:{level:'4',label:'難治性疾患治療開発・支援室(10)',secid:'302000302010',secname:'難治性疾患治療開発・支援室(10)',secnic:'難治性疾患治療開発・支援室',cust:'01',comp:'01'}},{data:{level:'4',label:'難病資源研究室(6)',secid:'302000302020',secname:'難病資源研究室(6)',secnic:'難病資源研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'疾患モデル小動物研究室(8)',secid:'302000302030',secname:'疾患モデル小動物研究室(8)',secnic:'疾患モデル小動物研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'疾患モデル小動物研究室ｰ野村プロジェクト(6)',secid:'302000302040',secname:'疾患モデル小動物研究室ｰ野村プロジェクト(6)',secnic:'疾患モデル小動物研究室ｰ野村プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'リバーストランスレーショナル研究プロジェクト(0)',secid:'302000302050',secname:'リバーストランスレーショナル研究プロジェクト(0)',secnic:'リバーストランスレーショナル研究プロジェクト',cust:'01',comp:'01'}}]},{data:{level:'3',label:'ワクチン・アジュバント研究センター(1)',secid:'303000000000',secname:'ワクチン・アジュバント研究センター(1)',secnic:'ワクチン・アジュバント研究センター',cust:'01',comp:'01'},child:[{data:{level:'4',label:'アジュバント開発プロジェクト(4)',secid:'303000303010',secname:'アジュバント開発プロジェクト(4)',secnic:'アジュバント開発プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'モックアップワクチンプロジェクト(2)',secid:'303000303020',secname:'モックアップワクチンプロジェクト(2)',secnic:'モックアップワクチンプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'ワクチンマテリアルプロジェクト(9)',secid:'303000303030',secname:'ワクチンマテリアルプロジェクト(9)',secnic:'ワクチンマテリアルプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'トランスレーショナル免疫プロジェクト(0)',secid:'303000303040',secname:'トランスレーショナル免疫プロジェクト(0)',secnic:'トランスレーショナル免疫プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'感染病態制御ワクチンプロジェクト(7)',secid:'303000303050',secname:'感染病態制御ワクチンプロジェクト(7)',secnic:'感染病態制御ワクチンプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'免疫バイオロジクスプロジェクト(0)',secid:'303000303060',secname:'免疫バイオロジクスプロジェクト(0)',secnic:'免疫バイオロジクスプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'新設プロジェクト(0)',secid:'303000303070',secname:'新設プロジェクト(0)',secnic:'新設プロジェクト',cust:'01',comp:'01'}}]},{data:{level:'3',label:'創薬デザイン研究センター(1)',secid:'304000000000',secname:'創薬デザイン研究センター(1)',secnic:'創薬デザイン研究センター',cust:'01',comp:'01'},child:[{data:{level:'4',label:'創薬支援課(46)',secid:'304000304010',secname:'創薬支援課(46)',secnic:'創薬支援課',cust:'01',comp:'01'}},{data:{level:'4',label:'抗体スクリーニングプロジェクト(4)',secid:'304000304020',secname:'抗体スクリーニングプロジェクト(4)',secnic:'抗体スクリーニングプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'人工核酸スクリーニングプロジェクト(6)',secid:'304000304030',secname:'人工核酸スクリーニングプロジェクト(6)',secnic:'人工核酸スクリーニングプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'薬用植物スクリーニングプロジェクト(0)',secid:'304000304040',secname:'薬用植物スクリーニングプロジェクト(0)',secnic:'薬用植物スクリーニングプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'インシリコ創薬支援プロジェクト(0)',secid:'304000304050',secname:'インシリコ創薬支援プロジェクト(0)',secnic:'インシリコ創薬支援プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'最適化支援プロジェクト(3)',secid:'304000304060',secname:'最適化支援プロジェクト(3)',secnic:'最適化支援プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'創薬標的プロテオミクスプロジェクト(0)',secid:'304000304070',secname:'創薬標的プロテオミクスプロジェクト(0)',secnic:'創薬標的プロテオミクスプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'細胞ネットワーク制御プロジェクト(0)',secid:'304000304080',secname:'細胞ネットワーク制御プロジェクト(0)',secnic:'細胞ネットワーク制御プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'創薬イメージングプロジェクト(0)',secid:'304000304090',secname:'創薬イメージングプロジェクト(0)',secnic:'創薬イメージングプロジェクト',cust:'01',comp:'01'}}]},{data:{level:'3',label:'ＡＩ健康・医薬研究センター(1)',secid:'305000000000',secname:'ＡＩ健康・医薬研究センター(1)',secnic:'ＡＩ健康・医薬研究センター',cust:'01',comp:'01'},child:[{data:{level:'4',label:'バイオインフォマティクスプロジェクト(21)',secid:'305000305010',secname:'バイオインフォマティクスプロジェクト(21)',secnic:'バイオインフォマティクスプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'ＡＩ研究企画推進室(3)',secid:'305000305020',secname:'ＡＩ研究企画推進室(3)',secnic:'ＡＩ研究企画推進室',cust:'01',comp:'01'}}]},{data:{level:'3',label:'医薬基盤研究所直轄(0)',secid:'306000000000',secname:'医薬基盤研究所直轄(0)',secnic:'医薬基盤研究所直轄',cust:'01',comp:'01'},child:[{data:{level:'4',label:'感染症制御プロジェクト(4)',secid:'306000306010',secname:'感染症制御プロジェクト(4)',secnic:'感染症制御プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'細胞核輸送ダイナミクスプロジェクト(5)',secid:'306000306020',secname:'細胞核輸送ダイナミクスプロジェクト(5)',secnic:'細胞核輸送ダイナミクスプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'腸内環境システムプロジェクト(0)',secid:'306000306030',secname:'腸内環境システムプロジェクト(0)',secnic:'腸内環境システムプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'ＫＡＧＡＭＩプロジェクト(4)',secid:'306000306040',secname:'ＫＡＧＡＭＩプロジェクト(4)',secnic:'ＫＡＧＡＭＩプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'免疫老化プロジェクト(4)',secid:'306000306050',secname:'免疫老化プロジェクト(4)',secnic:'免疫老化プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'バイオ創薬プロジェクト(3)',secid:'306000306060',secname:'バイオ創薬プロジェクト(3)',secnic:'バイオ創薬プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'プロテオームリサーチプロジェクト(12)',secid:'306000306070',secname:'プロテオームリサーチプロジェクト(12)',secnic:'プロテオームリサーチプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'トキシコゲノミクス・インフォマティクスプロジェクト(5)',secid:'306000306080',secname:'トキシコゲノミクス・インフォマティクスプロジェクト(5)',secnic:'トキシコゲノミクス・インフォマティクスプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'幹細胞制御制御プロジェクト(6)',secid:'306000306090',secname:'幹細胞制御制御プロジェクト(6)',secnic:'幹細胞制御制御プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'肝細胞分化誘導プロジェクト(0)',secid:'306000306100',secname:'肝細胞分化誘導プロジェクト(0)',secnic:'肝細胞分化誘導プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'培養資源研究室(18)',secid:'306000306110',secname:'培養資源研究室(18)',secnic:'培養資源研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'培養資源研究室-泉南資源研究施設(0)',secid:'306000306120',secname:'培養資源研究室-泉南資源研究施設(0)',secnic:'培養資源研究室-泉南資源研究施設',cust:'01',comp:'01'}},{data:{level:'4',label:'共用機器実験室(4)',secid:'306000306130',secname:'共用機器実験室(4)',secnic:'共用機器実験室',cust:'01',comp:'01'}},{data:{level:'4',label:'実験動物管理室(0)',secid:'306000306140',secname:'実験動物管理室(0)',secnic:'実験動物管理室',cust:'01',comp:'01'}}]},{data:{level:'3',label:'薬用植物資源研究センター(1)',secid:'327000000000',secname:'薬用植物資源研究センター(1)',secnic:'薬用植物資源研究センター',cust:'01',comp:'01'},child:[{data:{level:'4',label:'筑波研究部(20)',secid:'327000327010',secname:'筑波研究部(20)',secnic:'筑波研究部',cust:'01',comp:'01'}},{data:{level:'4',label:'北海道研究部(8)',secid:'327000337020',secname:'北海道研究部(8)',secnic:'北海道研究部',cust:'01',comp:'01'}},{data:{level:'4',label:'種子島研究部(11)',secid:'327000347030',secname:'種子島研究部(11)',secnic:'種子島研究部',cust:'01',comp:'01'}}]},{data:{level:'3',label:'霊長類医科科学研究センター(1)',secid:'358000000000',secname:'霊長類医科科学研究センター(1)',secnic:'霊長類医科科学研究センター',cust:'01',comp:'01'},child:[{data:{level:'4',label:'霊長類医科学研究部(15)',secid:'358000358010',secname:'霊長類医科学研究部(15)',secnic:'霊長類医科学研究部',cust:'01',comp:'01'}}]}]},{data:{level:'2',label:'国立健康・栄養研究所(0)',secid:'510000000000',secname:'国立健康・栄養研究所(0)',secnic:'国立健康・栄養研究所',cust:'01',comp:'01'},child:[{data:{level:'3',label:'総務部（健栄研）(1)',secid:'511000000000',secname:'総務部（健栄研）(1)',secnic:'総務部（健栄研）',cust:'01',comp:'01'},child:[{data:{level:'4',label:'健栄研総務課(6)',secid:'511000511010',secname:'健栄研総務課(6)',secnic:'健栄研総務課',cust:'01',comp:'01'}},{data:{level:'4',label:'健栄研会計課(3)',secid:'511000511020',secname:'健栄研会計課(3)',secnic:'健栄研会計課',cust:'01',comp:'01'}}]},{data:{level:'3',label:'戦略企画部（健栄研）(0)',secid:'512000000000',secname:'戦略企画部（健栄研）(0)',secnic:'戦略企画部（健栄研）',cust:'01',comp:'01'},child:[{data:{level:'4',label:'戦略企画課（健栄研）(3)',secid:'512000512010',secname:'戦略企画課（健栄研）(3)',secnic:'戦略企画課（健栄研）',cust:'01',comp:'01'}}]},{data:{level:'3',label:'栄養疫学・食育研究部(9)',secid:'513000000000',secname:'栄養疫学・食育研究部(9)',secnic:'栄養疫学・食育研究部',cust:'01',comp:'01'},child:[{data:{level:'4',label:'国民健康・栄養調査研究室(3)',secid:'513000513010',secname:'国民健康・栄養調査研究室(3)',secnic:'国民健康・栄養調査研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'食育研究室(1)',secid:'513000513020',secname:'食育研究室(1)',secnic:'食育研究室',cust:'01',comp:'01'}}]},{data:{level:'3',label:'身体活動研究部(3)',secid:'514000000000',secname:'身体活動研究部(3)',secnic:'身体活動研究部',cust:'01',comp:'01'},child:[{data:{level:'4',label:'行動生理研究室(1)',secid:'514000514010',secname:'行動生理研究室(1)',secnic:'行動生理研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'運動ガイドライン研究室(1)',secid:'514000514020',secname:'運動ガイドライン研究室(1)',secnic:'運動ガイドライン研究室',cust:'01',comp:'01'}}]},{data:{level:'3',label:'臨床栄養研究部(2)',secid:'515000000000',secname:'臨床栄養研究部(2)',secnic:'臨床栄養研究部',cust:'01',comp:'01'},child:[{data:{level:'4',label:'栄養療法研究室(2)',secid:'515000515010',secname:'栄養療法研究室(2)',secnic:'栄養療法研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'時間栄養研究室(1)',secid:'515000515020',secname:'時間栄養研究室(1)',secnic:'時間栄養研究室',cust:'01',comp:'01'}}]},{data:{level:'3',label:'栄養・代謝研究部(12)',secid:'516000000000',secname:'栄養・代謝研究部(12)',secnic:'栄養・代謝研究部',cust:'01',comp:'01'},child:[{data:{level:'4',label:'エネルギー代謝研究室(1)',secid:'516000516010',secname:'エネルギー代謝研究室(1)',secnic:'エネルギー代謝研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'栄養ガイドライン研究室(1)',secid:'516000516020',secname:'栄養ガイドライン研究室(1)',secnic:'栄養ガイドライン研究室',cust:'01',comp:'01'}}]},{data:{level:'3',label:'食品保健機能研究部(11)',secid:'517000000000',secname:'食品保健機能研究部(11)',secnic:'食品保健機能研究部',cust:'01',comp:'01'},child:[{data:{level:'4',label:'食品分析・表示研究室(2)',secid:'517000517010',secname:'食品分析・表示研究室(2)',secnic:'食品分析・表示研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'食品安全・機能研究室(2)',secid:'517000517020',secname:'食品安全・機能研究室(2)',secnic:'食品安全・機能研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'健康食品情報研究室(2)',secid:'517000517030',secname:'健康食品情報研究室(2)',secnic:'健康食品情報研究室',cust:'01',comp:'01'}}]},{data:{level:'3',label:'国際栄養情報センター(7)',secid:'518000000000',secname:'国際栄養情報センター(7)',secnic:'国際栄養情報センター',cust:'01',comp:'01'},child:[{data:{level:'4',label:'国際栄養戦略研究室(2)',secid:'518000518010',secname:'国際栄養戦略研究室(2)',secnic:'国際栄養戦略研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'国際保健統計研究室(2)',secid:'518000518020',secname:'国際保健統計研究室(2)',secnic:'国際保健統計研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'国際災害栄養研究室(1)',secid:'518000518030',secname:'国際災害栄養研究室(1)',secnic:'国際災害栄養研究室',cust:'01',comp:'01'}}]},{data:{level:'3',label:'国立健康・栄養研究所直轄(8)',secid:'519000000000',secname:'国立健康・栄養研究所直轄(8)',secnic:'国立健康・栄養研究所直轄',cust:'01',comp:'01'},child:[{data:{level:'4',label:'健康長寿研究室(1)',secid:'519000519010',secname:'健康長寿研究室(1)',secnic:'健康長寿研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'研究連携推進室(49)',secid:'519000519020',secname:'研究連携推進室(49)',secnic:'研究連携推進室',cust:'01',comp:'01'}}]}]},{data:{level:'2',label:'国立研究開発法人医薬基盤・健康・栄養研究所(0)',secid:'000000000000',secname:'国立研究開発法人医薬基盤・健康・栄養研究所(0)',secnic:'国立研究開発法人医薬基盤・健康・栄養研究所',cust:'01',comp:'01'}},{data:{level:'2',label:'役員等（健栄研）(2)',secid:'410000000000',secname:'役員等（健栄研）(2)',secnic:'役員等（健栄研）',cust:'01',comp:'01'}},{data:{level:'2',label:'退職・不在(0)',secid:'xxxxx',secname:'退職・不在(0)',secnic:'退職・不在',cust:'01',comp:'01'}}]}]
        // 需要配合前端点选部门才会有数据返回，否则拿不到empList
        // 见TmgTreeViewForAdminEmp.jsp里的传值约定和TmgReferList里的相关常量
        // リクエストパラメータorセッションに登録する際のキー(勤怠管理サイト用)
        //	public static final String TREEVIEW_KEY_ADMIN_TARGET_SECTION = "txt"+TREEVIEW_OBJ_HEADER_ADMIN+"TargetSection";
        //	public static final String TREEVIEW_KEY_ADMIN_TARGET_EMP     = "txt"+TREEVIEW_OBJ_HEADER_ADMIN+"TargetEmp";
        //	public static final String TREEVIEW_KEY_ADMIN_TARGET_WARD    = "txt"+TREEVIEW_OBJ_HEADER_ADMIN+"TargetWard";
        String empList = referList.getJSONArrayForEmpList();
        // [{data:{secid:'201000201010',secnic:'総務課',label:'総務課'},open:true,child:[{data:{level:'0',label:'吉武 徹 (総務課/課長)',cust:'01',comp:'01',empid:'34370889',empname:'吉武 徹',secid:'201000201010',secnic:'総務課',postid:'301',postname:'課長',workertypeid:'TMG_WORKERTYPE|03',wokertypename:'基盤研_職員 第３種',dstart:'2016/04/01',dend:'2222/12/31',seq:'1',defaultapplevel:'TMG_APPROVAL_LEVEL|1'}},{data:{level:'0',label:'吉田 健二 (総務課/課長補佐)',cust:'01',comp:'01',empid:'19225739',empname:'吉田 健二',secid:'201000201010',secnic:'総務課',postid:'305',postname:'課長補佐',workertypeid:'TMG_WORKERTYPE|03',wokertypename:'基盤研_職員 第３種',dstart:'2018/04/01',dend:'2222/12/31',seq:'2',defaultapplevel:'TMG_APPROVAL_LEVEL|1'}},{data:{level:'0',label:'加藤 宏二 (総務課/係長)',cust:'01',comp:'01',empid:'57854417',empname:'加藤 宏二',secid:'201000201010',secnic:'総務課',postid:'405',postname:'係長',workertypeid:'TMG_WORKERTYPE|03',wokertypename:'基盤研_職員 第３種',dstart:'2016/04/01',dend:'2222/12/31',seq:'3',defaultapplevel:'TMG_APPROVAL_LEVEL|1'}},{data:{level:'0',label:'渡邊 雄二 (総務課/係員)',cust:'01',comp:'01',empid:'19231982',empname:'渡邊 雄二',secid:'201000201010',secnic:'総務課',postid:'421',postname:'係員',workertypeid:'TMG_WORKERTYPE|02',wokertypename:'基盤研_職員 第２種',dstart:'2018/04/01',dend:'2222/12/31',seq:'4',defaultapplevel:'TMG_APPROVAL_LEVEL|1'}},{data:{level:'0',label:'遠藤 浩輝 (総務課/常勤研究調整専門員等)',cust:'01',comp:'01',empid:'07755956',empname:'遠藤 浩輝',secid:'201000201010',secnic:'総務課',postid:'ZZL',postname:'常勤研究調整専門員等',workertypeid:'TMG_WORKERTYPE|43',wokertypename:'基盤研_常勤研究調整専門員 第３種',dstart:'2019/04/01',dend:'2222/12/31',seq:'5',defaultapplevel:'TMG_APPROVAL_LEVEL|1'}},{data:{level:'0',label:'陶山 聡 (総務課/常勤研究調整専門員等)',cust:'01',comp:'01',empid:'40907319',empname:'陶山 聡',secid:'201000201010',secnic:'総務課',postid:'ZZL',postname:'常勤研究調整専門員等',workertypeid:'TMG_WORKERTYPE|43',wokertypename:'基盤研_常勤研究調整専門員 第３種',dstart:'2019/04/01',dend:'2222/12/31',seq:'6',defaultapplevel:'TMG_APPROVAL_LEVEL|1'}},{data:{level:'0',label:'久保 圭江子 (総務課/無期事務補助員)',cust:'01',comp:'01',empid:'26050240',empname:'久保 圭江子',secid:'201000201010',secnic:'総務課',postid:'ZZN',postname:'無期事務補助員',workertypeid:'TMG_WORKERTYPE|91',wokertypename:'基盤研_非常勤（日・時給） フルタイム',dstart:'2008/04/01',dend:'2222/12/31',seq:'7',defaultapplevel:'TMG_APPROVAL_LEVEL|1'}},{data:{level:'0',label:'大島 由紀子 (総務課/有期事務補助員)',cust:'01',comp:'01',empid:'59977466',empname:'大島 由紀子',secid:'201000201010',secnic:'総務課',postid:'ZZO',postname:'有期事務補助員',workertypeid:'TMG_WORKERTYPE|91',wokertypename:'基盤研_非常勤（日・時給） フルタイム',dstart:'2019/04/01',dend:'2222/12/31',seq:'8',defaultapplevel:'TMG_APPROVAL_LEVEL|1'}},{data:{level:'0',label:'河本 智裕 (総務課/有期事務補助員)',cust:'01',comp:'01',empid:'67841708',empname:'河本 智裕',secid:'201000201010',secnic:'総務課',postid:'ZZO',postname:'有期事務補助員',workertypeid:'TMG_WORKERTYPE|91',wokertypename:'基盤研_非常勤（日・時給） フルタイム',dstart:'2016/04/01',dend:'2222/12/31',seq:'9',defaultapplevel:'TMG_APPROVAL_LEVEL|1'}},{data:{level:'0',label:'柴垣 朋子 (総務課/有期事務補助員)',cust:'01',comp:'01',empid:'77224330',empname:'柴垣 朋子',secid:'201000201010',secnic:'総務課',postid:'ZZO',postname:'有期事務補助員',workertypeid:'TMG_WORKERTYPE|91',wokertypename:'基盤研_非常勤（日・時給） フルタイム',dstart:'2016/01/01',dend:'2222/12/31',seq:'10',defaultapplevel:'TMG_APPROVAL_LEVEL|1'}},{data:{level:'0',label:'中川 昌世 (総務課/有期事務補助員)',cust:'01',comp:'01',empid:'55276713',empname:'中川 昌世',secid:'201000201010',secnic:'総務課',postid:'ZZO',postname:'有期事務補助員',workertypeid:'TMG_WORKERTYPE|91',wokertypename:'基盤研_非常勤（日・時給） フルタイム',dstart:'2016/01/01',dend:'2222/12/31',seq:'11',defaultapplevel:'TMG_APPROVAL_LEVEL|1'}},{data:{level:'0',label:'西村 智子 (総務課/有期事務補助員)',cust:'01',comp:'01',empid:'09278924',empname:'西村 智子',secid:'201000201010',secnic:'総務課',postid:'ZZO',postname:'有期事務補助員',workertypeid:'TMG_WORKERTYPE|91',wokertypename:'基盤研_非常勤（日・時給） フルタイム',dstart:'2016/08/01',dend:'2222/12/31',seq:'12',defaultapplevel:'TMG_APPROVAL_LEVEL|1'}}]}]
        System.out.println(empList);

        referList.putReferList(modelMap);
        modelMap.addAttribute("psDBBean",psDBBean);
        return "rf1";
    }

    // 勤怠管理サイト Test  21 31 41
    // TmgTreeViewForAdminList.jsp
    @GetMapping("rf2")
    @ResponseBody
    public GlobalResponse setReferList2(@RequestAttribute("BeanName") PsDBBean psDBBean) throws Exception {
        psDBBean.requestHash.put("SiteId", TmgUtil.Cs_SITE_ID_TMG_ADMIN);
        // 21 31时使用orgTree
//        TmgReferList referList = new TmgReferList(psDBBean, "TmgSample", baseDate, TmgReferList.TREEVIEW_TYPE_LIST, true,
//                true, false, false, true);
//        String orgTree = referList.getJSONArrayForOrgTree();
//        System.out.println(orgTree);

        // 41时使用divTree
        // [{data:{level:'1',label:'医薬基盤・健康・栄養研究所(0)',secid:'000000',secname:'医薬基盤・健康・栄養研究所(0)',secnic:'医薬基盤・健康・栄養研究所',cust:'01',comp:'01'},child:[{data:{level:'2',label:'役員等(2)',secid:'100000000000',secname:'役員等(2)',secnic:'役員等',cust:'01',comp:'01'}},{data:{level:'2',label:'（本部）(0)',secid:'200000000000',secname:'（本部）(0)',secnic:'（本部）',cust:'01',comp:'01'},child:[{data:{level:'3',label:'総務部(8)',secid:'201000000000',secname:'総務部(8)',secnic:'総務部',cust:'01',comp:'01'},child:[{data:{level:'4',label:'総務課(12)',secid:'201000201010',secname:'総務課(12)',secnic:'総務課',cust:'01',comp:'01'}},{data:{level:'4',label:'会計課(17)',secid:'201000201020',secname:'会計課(17)',secnic:'会計課',cust:'01',comp:'01'}}]},{data:{level:'3',label:'監査担当(0)',secid:'202000000000',secname:'監査担当(0)',secnic:'監査担当',cust:'01',comp:'01'},child:[{data:{level:'4',label:'監査担当(2)',secid:'202000202010',secname:'監査担当(2)',secnic:'監査担当',cust:'01',comp:'01'}}]},{data:{level:'3',label:'戦略企画部(1)',secid:'203000000000',secname:'戦略企画部(1)',secnic:'戦略企画部',cust:'01',comp:'01'},child:[{data:{level:'4',label:'戦略企画課(7)',secid:'203000203010',secname:'戦略企画課(7)',secnic:'戦略企画課',cust:'01',comp:'01'}}]},{data:{level:'3',label:'研究倫理審査調査室(0)',secid:'204000000000',secname:'研究倫理審査調査室(0)',secnic:'研究倫理審査調査室',cust:'01',comp:'01'},child:[{data:{level:'4',label:'研究倫理審査調整室(3)',secid:'204000204010',secname:'研究倫理審査調整室(3)',secnic:'研究倫理審査調整室',cust:'01',comp:'01'}}]}]},{data:{level:'2',label:'医薬基盤研究所(1)',secid:'300000000000',secname:'医薬基盤研究所(1)',secnic:'医薬基盤研究所',cust:'01',comp:'01'},child:[{data:{level:'3',label:'開発振興部(16)',secid:'301000000000',secname:'開発振興部(16)',secnic:'開発振興部',cust:'01',comp:'01'},child:[{data:{level:'4',label:'企画管理課(1)',secid:'301000301010',secname:'企画管理課(1)',secnic:'企画管理課',cust:'01',comp:'01'}},{data:{level:'4',label:'開発振興課(2)',secid:'301000301020',secname:'開発振興課(2)',secnic:'開発振興課',cust:'01',comp:'01'}},{data:{level:'4',label:'開発調整課(3)',secid:'301000301030',secname:'開発調整課(3)',secnic:'開発調整課',cust:'01',comp:'01'}},{data:{level:'4',label:'ＳＩＰ事業グループ(3)',secid:'301000301040',secname:'ＳＩＰ事業グループ(3)',secnic:'ＳＩＰ事業グループ',cust:'01',comp:'01'}}]},{data:{level:'3',label:'難治性疾患研究開発・支援センター(2)',secid:'302000000000',secname:'難治性疾患研究開発・支援センター(2)',secnic:'難治性疾患研究開発・支援センター',cust:'01',comp:'01'},child:[{data:{level:'4',label:'難治性疾患治療開発・支援室(10)',secid:'302000302010',secname:'難治性疾患治療開発・支援室(10)',secnic:'難治性疾患治療開発・支援室',cust:'01',comp:'01'}},{data:{level:'4',label:'難病資源研究室(6)',secid:'302000302020',secname:'難病資源研究室(6)',secnic:'難病資源研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'疾患モデル小動物研究室(8)',secid:'302000302030',secname:'疾患モデル小動物研究室(8)',secnic:'疾患モデル小動物研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'疾患モデル小動物研究室ｰ野村プロジェクト(6)',secid:'302000302040',secname:'疾患モデル小動物研究室ｰ野村プロジェクト(6)',secnic:'疾患モデル小動物研究室ｰ野村プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'リバーストランスレーショナル研究プロジェクト(0)',secid:'302000302050',secname:'リバーストランスレーショナル研究プロジェクト(0)',secnic:'リバーストランスレーショナル研究プロジェクト',cust:'01',comp:'01'}}]},{data:{level:'3',label:'ワクチン・アジュバント研究センター(1)',secid:'303000000000',secname:'ワクチン・アジュバント研究センター(1)',secnic:'ワクチン・アジュバント研究センター',cust:'01',comp:'01'},child:[{data:{level:'4',label:'アジュバント開発プロジェクト(4)',secid:'303000303010',secname:'アジュバント開発プロジェクト(4)',secnic:'アジュバント開発プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'モックアップワクチンプロジェクト(2)',secid:'303000303020',secname:'モックアップワクチンプロジェクト(2)',secnic:'モックアップワクチンプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'ワクチンマテリアルプロジェクト(9)',secid:'303000303030',secname:'ワクチンマテリアルプロジェクト(9)',secnic:'ワクチンマテリアルプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'トランスレーショナル免疫プロジェクト(0)',secid:'303000303040',secname:'トランスレーショナル免疫プロジェクト(0)',secnic:'トランスレーショナル免疫プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'感染病態制御ワクチンプロジェクト(7)',secid:'303000303050',secname:'感染病態制御ワクチンプロジェクト(7)',secnic:'感染病態制御ワクチンプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'免疫バイオロジクスプロジェクト(0)',secid:'303000303060',secname:'免疫バイオロジクスプロジェクト(0)',secnic:'免疫バイオロジクスプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'新設プロジェクト(0)',secid:'303000303070',secname:'新設プロジェクト(0)',secnic:'新設プロジェクト',cust:'01',comp:'01'}}]},{data:{level:'3',label:'創薬デザイン研究センター(1)',secid:'304000000000',secname:'創薬デザイン研究センター(1)',secnic:'創薬デザイン研究センター',cust:'01',comp:'01'},child:[{data:{level:'4',label:'創薬支援課(46)',secid:'304000304010',secname:'創薬支援課(46)',secnic:'創薬支援課',cust:'01',comp:'01'}},{data:{level:'4',label:'抗体スクリーニングプロジェクト(4)',secid:'304000304020',secname:'抗体スクリーニングプロジェクト(4)',secnic:'抗体スクリーニングプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'人工核酸スクリーニングプロジェクト(6)',secid:'304000304030',secname:'人工核酸スクリーニングプロジェクト(6)',secnic:'人工核酸スクリーニングプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'薬用植物スクリーニングプロジェクト(0)',secid:'304000304040',secname:'薬用植物スクリーニングプロジェクト(0)',secnic:'薬用植物スクリーニングプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'インシリコ創薬支援プロジェクト(0)',secid:'304000304050',secname:'インシリコ創薬支援プロジェクト(0)',secnic:'インシリコ創薬支援プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'最適化支援プロジェクト(3)',secid:'304000304060',secname:'最適化支援プロジェクト(3)',secnic:'最適化支援プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'創薬標的プロテオミクスプロジェクト(0)',secid:'304000304070',secname:'創薬標的プロテオミクスプロジェクト(0)',secnic:'創薬標的プロテオミクスプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'細胞ネットワーク制御プロジェクト(0)',secid:'304000304080',secname:'細胞ネットワーク制御プロジェクト(0)',secnic:'細胞ネットワーク制御プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'創薬イメージングプロジェクト(0)',secid:'304000304090',secname:'創薬イメージングプロジェクト(0)',secnic:'創薬イメージングプロジェクト',cust:'01',comp:'01'}}]},{data:{level:'3',label:'ＡＩ健康・医薬研究センター(1)',secid:'305000000000',secname:'ＡＩ健康・医薬研究センター(1)',secnic:'ＡＩ健康・医薬研究センター',cust:'01',comp:'01'},child:[{data:{level:'4',label:'バイオインフォマティクスプロジェクト(21)',secid:'305000305010',secname:'バイオインフォマティクスプロジェクト(21)',secnic:'バイオインフォマティクスプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'ＡＩ研究企画推進室(3)',secid:'305000305020',secname:'ＡＩ研究企画推進室(3)',secnic:'ＡＩ研究企画推進室',cust:'01',comp:'01'}}]},{data:{level:'3',label:'医薬基盤研究所直轄(0)',secid:'306000000000',secname:'医薬基盤研究所直轄(0)',secnic:'医薬基盤研究所直轄',cust:'01',comp:'01'},child:[{data:{level:'4',label:'感染症制御プロジェクト(4)',secid:'306000306010',secname:'感染症制御プロジェクト(4)',secnic:'感染症制御プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'細胞核輸送ダイナミクスプロジェクト(5)',secid:'306000306020',secname:'細胞核輸送ダイナミクスプロジェクト(5)',secnic:'細胞核輸送ダイナミクスプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'腸内環境システムプロジェクト(0)',secid:'306000306030',secname:'腸内環境システムプロジェクト(0)',secnic:'腸内環境システムプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'ＫＡＧＡＭＩプロジェクト(4)',secid:'306000306040',secname:'ＫＡＧＡＭＩプロジェクト(4)',secnic:'ＫＡＧＡＭＩプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'免疫老化プロジェクト(4)',secid:'306000306050',secname:'免疫老化プロジェクト(4)',secnic:'免疫老化プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'バイオ創薬プロジェクト(3)',secid:'306000306060',secname:'バイオ創薬プロジェクト(3)',secnic:'バイオ創薬プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'プロテオームリサーチプロジェクト(12)',secid:'306000306070',secname:'プロテオームリサーチプロジェクト(12)',secnic:'プロテオームリサーチプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'トキシコゲノミクス・インフォマティクスプロジェクト(5)',secid:'306000306080',secname:'トキシコゲノミクス・インフォマティクスプロジェクト(5)',secnic:'トキシコゲノミクス・インフォマティクスプロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'幹細胞制御制御プロジェクト(6)',secid:'306000306090',secname:'幹細胞制御制御プロジェクト(6)',secnic:'幹細胞制御制御プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'肝細胞分化誘導プロジェクト(0)',secid:'306000306100',secname:'肝細胞分化誘導プロジェクト(0)',secnic:'肝細胞分化誘導プロジェクト',cust:'01',comp:'01'}},{data:{level:'4',label:'培養資源研究室(18)',secid:'306000306110',secname:'培養資源研究室(18)',secnic:'培養資源研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'培養資源研究室-泉南資源研究施設(0)',secid:'306000306120',secname:'培養資源研究室-泉南資源研究施設(0)',secnic:'培養資源研究室-泉南資源研究施設',cust:'01',comp:'01'}},{data:{level:'4',label:'共用機器実験室(4)',secid:'306000306130',secname:'共用機器実験室(4)',secnic:'共用機器実験室',cust:'01',comp:'01'}},{data:{level:'4',label:'実験動物管理室(0)',secid:'306000306140',secname:'実験動物管理室(0)',secnic:'実験動物管理室',cust:'01',comp:'01'}}]},{data:{level:'3',label:'薬用植物資源研究センター(1)',secid:'327000000000',secname:'薬用植物資源研究センター(1)',secnic:'薬用植物資源研究センター',cust:'01',comp:'01'},child:[{data:{level:'4',label:'筑波研究部(20)',secid:'327000327010',secname:'筑波研究部(20)',secnic:'筑波研究部',cust:'01',comp:'01'}},{data:{level:'4',label:'北海道研究部(8)',secid:'327000337020',secname:'北海道研究部(8)',secnic:'北海道研究部',cust:'01',comp:'01'}},{data:{level:'4',label:'種子島研究部(11)',secid:'327000347030',secname:'種子島研究部(11)',secnic:'種子島研究部',cust:'01',comp:'01'}}]},{data:{level:'3',label:'霊長類医科科学研究センター(1)',secid:'358000000000',secname:'霊長類医科科学研究センター(1)',secnic:'霊長類医科科学研究センター',cust:'01',comp:'01'},child:[{data:{level:'4',label:'霊長類医科学研究部(15)',secid:'358000358010',secname:'霊長類医科学研究部(15)',secnic:'霊長類医科学研究部',cust:'01',comp:'01'}}]}]},{data:{level:'2',label:'国立健康・栄養研究所(0)',secid:'510000000000',secname:'国立健康・栄養研究所(0)',secnic:'国立健康・栄養研究所',cust:'01',comp:'01'},child:[{data:{level:'3',label:'総務部（健栄研）(1)',secid:'511000000000',secname:'総務部（健栄研）(1)',secnic:'総務部（健栄研）',cust:'01',comp:'01'},child:[{data:{level:'4',label:'健栄研総務課(6)',secid:'511000511010',secname:'健栄研総務課(6)',secnic:'健栄研総務課',cust:'01',comp:'01'}},{data:{level:'4',label:'健栄研会計課(3)',secid:'511000511020',secname:'健栄研会計課(3)',secnic:'健栄研会計課',cust:'01',comp:'01'}}]},{data:{level:'3',label:'戦略企画部（健栄研）(0)',secid:'512000000000',secname:'戦略企画部（健栄研）(0)',secnic:'戦略企画部（健栄研）',cust:'01',comp:'01'},child:[{data:{level:'4',label:'戦略企画課（健栄研）(3)',secid:'512000512010',secname:'戦略企画課（健栄研）(3)',secnic:'戦略企画課（健栄研）',cust:'01',comp:'01'}}]},{data:{level:'3',label:'栄養疫学・食育研究部(9)',secid:'513000000000',secname:'栄養疫学・食育研究部(9)',secnic:'栄養疫学・食育研究部',cust:'01',comp:'01'},child:[{data:{level:'4',label:'国民健康・栄養調査研究室(3)',secid:'513000513010',secname:'国民健康・栄養調査研究室(3)',secnic:'国民健康・栄養調査研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'食育研究室(1)',secid:'513000513020',secname:'食育研究室(1)',secnic:'食育研究室',cust:'01',comp:'01'}}]},{data:{level:'3',label:'身体活動研究部(3)',secid:'514000000000',secname:'身体活動研究部(3)',secnic:'身体活動研究部',cust:'01',comp:'01'},child:[{data:{level:'4',label:'行動生理研究室(1)',secid:'514000514010',secname:'行動生理研究室(1)',secnic:'行動生理研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'運動ガイドライン研究室(1)',secid:'514000514020',secname:'運動ガイドライン研究室(1)',secnic:'運動ガイドライン研究室',cust:'01',comp:'01'}}]},{data:{level:'3',label:'臨床栄養研究部(2)',secid:'515000000000',secname:'臨床栄養研究部(2)',secnic:'臨床栄養研究部',cust:'01',comp:'01'},child:[{data:{level:'4',label:'栄養療法研究室(2)',secid:'515000515010',secname:'栄養療法研究室(2)',secnic:'栄養療法研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'時間栄養研究室(1)',secid:'515000515020',secname:'時間栄養研究室(1)',secnic:'時間栄養研究室',cust:'01',comp:'01'}}]},{data:{level:'3',label:'栄養・代謝研究部(12)',secid:'516000000000',secname:'栄養・代謝研究部(12)',secnic:'栄養・代謝研究部',cust:'01',comp:'01'},child:[{data:{level:'4',label:'エネルギー代謝研究室(1)',secid:'516000516010',secname:'エネルギー代謝研究室(1)',secnic:'エネルギー代謝研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'栄養ガイドライン研究室(1)',secid:'516000516020',secname:'栄養ガイドライン研究室(1)',secnic:'栄養ガイドライン研究室',cust:'01',comp:'01'}}]},{data:{level:'3',label:'食品保健機能研究部(11)',secid:'517000000000',secname:'食品保健機能研究部(11)',secnic:'食品保健機能研究部',cust:'01',comp:'01'},child:[{data:{level:'4',label:'食品分析・表示研究室(2)',secid:'517000517010',secname:'食品分析・表示研究室(2)',secnic:'食品分析・表示研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'食品安全・機能研究室(2)',secid:'517000517020',secname:'食品安全・機能研究室(2)',secnic:'食品安全・機能研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'健康食品情報研究室(2)',secid:'517000517030',secname:'健康食品情報研究室(2)',secnic:'健康食品情報研究室',cust:'01',comp:'01'}}]},{data:{level:'3',label:'国際栄養情報センター(7)',secid:'518000000000',secname:'国際栄養情報センター(7)',secnic:'国際栄養情報センター',cust:'01',comp:'01'},child:[{data:{level:'4',label:'国際栄養戦略研究室(2)',secid:'518000518010',secname:'国際栄養戦略研究室(2)',secnic:'国際栄養戦略研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'国際保健統計研究室(2)',secid:'518000518020',secname:'国際保健統計研究室(2)',secnic:'国際保健統計研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'国際災害栄養研究室(1)',secid:'518000518030',secname:'国際災害栄養研究室(1)',secnic:'国際災害栄養研究室',cust:'01',comp:'01'}}]},{data:{level:'3',label:'国立健康・栄養研究所直轄(8)',secid:'519000000000',secname:'国立健康・栄養研究所直轄(8)',secnic:'国立健康・栄養研究所直轄',cust:'01',comp:'01'},child:[{data:{level:'4',label:'健康長寿研究室(1)',secid:'519000519010',secname:'健康長寿研究室(1)',secnic:'健康長寿研究室',cust:'01',comp:'01'}},{data:{level:'4',label:'研究連携推進室(49)',secid:'519000519020',secname:'研究連携推進室(49)',secnic:'研究連携推進室',cust:'01',comp:'01'}}]}]},{data:{level:'2',label:'国立研究開発法人医薬基盤・健康・栄養研究所(0)',secid:'000000000000',secname:'国立研究開発法人医薬基盤・健康・栄養研究所(0)',secnic:'国立研究開発法人医薬基盤・健康・栄養研究所',cust:'01',comp:'01'}},{data:{level:'2',label:'役員等（健栄研）(2)',secid:'410000000000',secname:'役員等（健栄研）(2)',secnic:'役員等（健栄研）',cust:'01',comp:'01'}},{data:{level:'2',label:'退職・不在(0)',secid:'xxxxx',secname:'退職・不在(0)',secnic:'退職・不在',cust:'01',comp:'01'}}]}]
        TmgReferList referList = new TmgReferList(psDBBean, "TmgSample", baseDate, TmgReferList.TREEVIEW_TYPE_DIVLIST, true,
                true, false, false, true);
        String divisionTree = referList.getJSONArrayForDivisionTree();
        System.out.println(divisionTree);
        return GlobalResponse.ok();
    }

    // 勤怠承認サイトの Test  11
    // TmgTreeViewForPermEmp.jsp
    @GetMapping("rf3")
    @ResponseBody
    public GlobalResponse setReferList3(@RequestAttribute("BeanName") PsDBBean psDBBean) throws Exception {
        psDBBean.requestHash.put("SiteId", TmgUtil.Cs_SITE_ID_TMG_PERM);
        TmgReferList referList = new TmgReferList(psDBBean, "TmgSample", baseDate, TmgReferList.TREEVIEW_TYPE_DIVLIST, true,
                true, false, false, true);
        String memberList = referList.getJSONArrayForMemberList();
        System.out.println(memberList);
        String groupBySection = referList.getJSONArrayForMemberListGroupBySection();
        System.out.println(groupBySection);
        String groupByGroup = referList.getJSONArrayForMemberListGroupByGroup();
        System.out.println(groupByGroup);
        return GlobalResponse.ok();
    }

    // 勤怠承認サイトの Test  21
    // TmgTreeViewForPermList.jsp
    @GetMapping("rf4")
    @ResponseBody
    public GlobalResponse setReferList4(@RequestAttribute("BeanName") PsDBBean psDBBean) throws Exception {
        psDBBean.requestHash.put("SiteId", TmgUtil.Cs_SITE_ID_TMG_PERM);
        TmgReferList referList = new TmgReferList(psDBBean, "TmgSample", baseDate, TmgReferList.TREEVIEW_TYPE_LIST, true,
                true, false, false, true);
        String groupList = referList.getJSONArrayForGroupList();
        System.out.println(groupList);
        String sectionList = referList.getJSONArrayForSectionList();
        System.out.println(sectionList);
        return GlobalResponse.ok();
    }

    // 勤怠承認サイトの Test  31
    // TmgTreeViewForPermListSec.jsp
    @GetMapping("rf5")
    @ResponseBody
    public GlobalResponse setReferList5(@RequestAttribute("BeanName") PsDBBean psDBBean) throws Exception {
        psDBBean.requestHash.put("SiteId", TmgUtil.Cs_SITE_ID_TMG_PERM);
        TmgReferList referList = new TmgReferList(psDBBean, "TmgSample", baseDate, TmgReferList.TREEVIEW_TYPE_LIST_SEC, true,
                true, false, false, true);
        String sectionList = referList.getJSONArrayForSectionList();
        System.out.println(sectionList);
        return GlobalResponse.ok();
    }

    private final OvertimeInstructBean overtimeInstructBean;

    @GetMapping("rf6")
    @ResponseBody
    public GlobalResponse test6(ModelMap modelMap) {
       overtimeInstructBean.actionExecuteDispResult(modelMap);
        return GlobalResponse.ok();
    }

}
