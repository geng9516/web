<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head
    th:replace="layout/header::common_header(title='予定作成',cssPaths='/pages/content.min.css,' + '/pages/workYearSchedule.min.css')">
</head>

<body>
    <div th:replace="layout/loadingBar::loadingBar"></div>
    <main class="content workyearschedule-warp" @scroll.passive="handleScroll" ref="layout">
        <div class="content_head">
            <div class="header">
                <div class="title1">
                    <h1>
                        <Icon type="i-emeer colored"></Icon>
                        {{'予定作成' }}
                    </h1>
                </div>
                <div class="btnbox">
                    <span style="flex:1"></span>
                    <i-button type="primary" size="large" icon="md-create"  :disabled="!selectDisabled"  @click="handleChangeWorkPattern();isEditable = !isEditable"  v-if="isAdmin && !isEditable">対象者一括編集</i-button>
                    <i-button type="success" icon="md-create" size="large" v-if="isAdmin && isEditable" @click="postExecuteEditMonthlyUSchedule">登録</i-button>
                    <i-button size="large" v-if="isAdmin && isEditable" @click="isEditable = !isEditable">キャンセル</i-button>
                </div>
            </div>
            <div class="searchwrap">
                <!-- 共通組織図画面 start-->
                <span style="display:flex;width: calc(15% + 200px);">
                    <span class="label">所属</span>
                    <i-button v-on:click.native="deptDrawShow = true" class="input-like-span mr30 cursor grey"
                        style="width: calc(100% - 120px);border-radius:0">
                        {{ deptName }}
                    </i-button>

                    <Drawer class="tc" title="所属を選択してください" placement="right" width="700" :closable="false"
                        v-model="deptDrawShow">
                        <div class="titlenorm mb5">
                            <Icon type="logo-buffer"></Icon>
                            所属
                        </div>
                        <Row class="tl mb5">
                            <i-col span="4" class="label tc" style="height: 32px;">基準日</i-col>
                            <i-col span="7" class="no-border-radius">
                            <date-picker type="date" :value="referListObject.txtTmgReferListTreeViewRecordDate"
                            placeholder="基準日" format="yyyy/MM/dd" ref="datePicker" @on-change="handleDeptDateChange"></date-picker>
                            </i-col>
                            <i-col span="4" class="label ml5 tc" style="height: 32px;">ビュー選択</i-col>
                            <div style="display: inline-block;width: 32.5%;" class="no-border-radius">
                            <i-select v-model="selectedDeptViewType" @on-change="handleDeptViewTypeChange">
                                <i-option :value="1">全て</i-option>
                                <i-option :value="2">グループごとに</i-option>
                                <i-option :value="3">部署ごとに</i-option>
                            </i-select>
                            </div>
                        </Row>
                        <Row class="tl mb2" :gutter="8">
                            <i-col span="15">
                                <i-input v-model="referListObject.hidSearchData" @on-search="searchOrgTree" class="mar mb5 like-select" search enter-button placeholder="検索">
                                    <i-select v-model="referListObject.hidSearchItems" slot="prepend" style="width: 108px" placeholder="項目">
                                        <i-option v-for="(item,i) of searchTypesList" :value="item.value">{{ item.name }}</i-option>
                                    </i-select>
                                    <i-select v-model="referListObject.hidSearchCondition"  slot="append" style="width: 108px" placeholder="条件">
                                        <i-option v-for="(item,i) of searchConditionsList" :value="item.value">{{ item.name }}</i-option>
                                    </i-select>
                                </i-input>
                            </i-col>
                            <i-col span="8" class="no-border-radius">
                                <i-button long type="primary" icon="md-search" ghost :loading="empDeptLoading" @click="searchOrgTree">検索</i-button>
                            </i-col>
                        </Row>

                        <div style="position: relative;">
                            <Tree class="tree mt2" :data="treeData" v-on:on-select-change="handleClickLeaf" ref="tree"
                            empty-text="所属データなし"></Tree>
                            <Spin size="large" fix v-if="empDeptLoading"></Spin>
                        </div>
                    </Drawer>
                    <!-- 共通組織図画面 end-->
                </span>
                <span class="label">氏名</span>
                <span class="input-like-span width15">{{ kanjiName }}</span>
            </div>
        </div>
        <div class="content_body">
            <div class="table-top">
                <Row :gutter="16">
                    <Col span="11">
                    <i-button type="text" @click="preMonth" :disabled="!selectDisabled">
                        <Icon type="ios-arrow-back"></Icon>
                        前月
                    </i-button>
                    <i-button type="text" @click="nextMonth" :disabled="!selectDisabled">
                        翌月
                        <Icon type="ios-arrow-forward"></Icon>
                    </i-button >
                    </Col>
                </Row>
            </div>

            <Row :gutter="10" class="mt5 mb15 tc">
                <i-col span="4">
                <div class="label">公休日数</div>
                <div class="person-info">{{paidHolidayVO.nationalHolidayDays}}</div>
                </i-col>
                <i-col span="4">
                <div class>
                    <div class="label">基準日数</div>
                    <div class="person-info">{{paidHolidayVO.dateOfRecordDays}}</div>
                </div>
                </i-col>
                <i-col span="4">
                <div class="label">基準時間</div>
                <div class="person-info">{{paidHolidayVO.dateOfRecord}}</div>
                </i-col>
                <i-col span="4">
                <div class="label">年次休暇残</div>
                <div class="person-info">{{paidHolidayVO.npaidRestDaysHour}}</div>
                </i-col>
            </Row>

            <div class="titlenorm mb10 mt15" v-if="isAdmin && isEditable">
                <Icon type="logo-buffer"></Icon>
                一括適用
            </div>

            <Row v-if="isAdmin && isEditable" class="mb10">
                <i-col span="3">
                <div class="label">勤務パターン</div>
                </i-col>
                <i-col span="6">
                    <i-select class="no-border-radius"  v-model="workPatternSelected" @on-change="handleChangeWorkPattern()">
                    <i-option v-for="(item, i) of workPatternList" :key="i" :value="item.CPATTERNID">{{ item.CPATTERNNAME }}</i-option>

                </i-select>
                </i-col>
            </Row>

                <i-table :columns="columnsAction" :data="columnsActionData" v-if="isAdmin && isEditable">
                <template slot-scope="{ row }" slot="workDivision">
                    <i-select  transfer>
                        <i-option v-for="(item, i) of kubunnList" :key="i" :value="item.MGD_CMASTERCODE">{{ item.MGD_CGENERICDETAILDESC }}</i-option>
                    </i-select>
                </template>

                <template slot-scope="{ row }" slot="workFar">
                    <i-select transfer>
                        <i-option v-for="(item, i) of syuccyouList" :key="i" :value="item.MGD_CMASTERCODE">{{ item.MGD_CGENERICDETAILDESC }}</i-option>
                    </i-select>
                </template>

                <template slot-scope="{ row }" slot="startTime">
                    <i-input :value="curSelectedWorkPattern.JSON.dutyArray.length === 0?'':curSelectedWorkPattern.JSON.dutyArray[0].NOPEN|handleTime" />
                </template>

                <template slot-scope="{ row }" slot="endTime">
                    <i-input :value="curSelectedWorkPattern.JSON.dutyArray.length === 0?'':curSelectedWorkPattern.JSON.dutyArray[0].NCLOSE|handleTime" />
                </template>

                <template slot-scope="{ row }" slot="restTime" >
                        <Row :gutter="10" v-for="(item, i) of row.JSON.restArray" :key="i" class="mb5" >
                            <i-col :span="row.JSON.restArray.length > 1 ? 8 : 12">
    <!--                            <i-input v-model="item.NOPEN" />-->
                                <i-input :value="item.NOPEN|handleTime" />
                            </i-col>
                            <i-col :span="row.JSON.restArray.length > 1 ? 8 : 12">
    <!--                            <i-input v-model="item.NCLOSE" />-->
                                <i-input :value="item.NCLOSE|handleTime" />
                            </i-col>
                            <i-col span="8" v-show="row.JSON.restArray.length > 1">
                                <i-button ghost type="error" @click="handleMinusRest(row.JSON.restArray, i)">-</i-button>
                            </i-col>
                        </Row>
                        <i-button

                                class="mt5"
                                size="small"
                                ghost
                                type="success"
                                long
                                @click="handleAddRest(row.JSON.restArray)"
                                v-show="row.JSON.restArray.length < 4"
                        >+</i-button>
                </template>

                <template slot-scope="{ row }" slot="option">
                    <i-button type="primary" class="mr5" ghost @click="handleSelectAll2(false)">
                        クリア
                    </i-button>
                    <i-button type="primary" class="mr5" ghost @click="handleSelectAll2(true)">
                        全選択
                    </i-button>
                </template>
            </i-table>

            <div class="titlenorm mb10 mt15" v-if="isAdmin && isEditable">
                <Icon type="logo-buffer"></Icon>
                勤務予定
            </div>

            <i-table :class="tableHeadFixed ? 'table-head-fixed sum-table' : 'sum-table'"  border :columns="columns"
                     :row-class-name="rowClass" :disabled-hover="true" :data="scheduleDataDTOList" :loading="loading" ref="selection2">

                <template slot-scope="{ row }" slot="intDay">
                    <span :class="dayRed(row.tda_nmmday)">{{`${row.tda_nmmdd}　${row.tda_nmmday}`}}</span>
                </template>

                <template slot-scope="{ row }" slot="workDivision">
                    <i-select :value="row.tda_cworkingid_p" transfer v-if="isAdmin && isEditable" @on-change="handleChange($event, row, 'workDivision')">
                        <i-option v-for="(item, i) of kubunnList" :key="i" :value="item.MGD_CMASTERCODE">{{ item.MGD_CGENERICDETAILDESC }}</i-option>
                    </i-select>
                    <span :class="dayRed(row.tda_cworkingid_mm)" v-else>{{ row.tda_cworkingid_mm }}</span>
                </template>

                <template slot-scope="{ row }" slot="workFar">
                    <span v-if="!isEditable">{{ row.tda_cbusinesstripid_mm }}</span>
                    <i-select :value="row.tda_cbusinesstripid_p" transfer v-else @on-change="handleChange($event, row, 'workFar')">
                        <i-option v-for="(item, i) of syuccyouList" :key="i" :value="item.MGD_CMASTERCODE">{{ item.MGD_CGENERICDETAILDESC }}</i-option>
                    </i-select>
                </template>

                <template slot-scope="{ row,index}" slot="workStartFinal">
                    <i-input v-model="row.tda_nopen_p" v-if="isAdmin && isEditable" @on-blur="handleCheck($event.target.value, row, 'workStartFinal')"></i-input>
                    <span v-else>{{ row.tda_nopen_p }}</span>
                </template>

                <template slot-scope="{ row }" slot="workEndFinal">
                    <i-input v-model="row.tda_nclose_p" v-if="isAdmin && isEditable" @on-blur="handleCheck($event.target.value, row, 'workEndFinal')"></i-input>
                    <span v-else>{{ row.tda_nclose_p }}</span>
                </template>

                <template slot-scope="{ row }" slot="restTimeList">
                    <div v-if="isAdmin && isEditable">
                        <Row :gutter="10" v-for="(item, i) of row.timerange_arr" :key="i" class="mb5">
                            <i-col :span="row.timerange_arr.length > 1 ? 8 : 12">
                                <i-input :value="item.NOPEN|handleTime" @on-blur="handleCheck($event.target.value, row, 'restOpen',i)"/>
<!--                                <i-input v-model="item.NOPEN" />-->
                            </i-col>
                            <i-col :span="row.timerange_arr.length > 1 ? 8 : 12">
                                <i-input :value="item.NCLOSE|handleTime" @on-blur="handleCheck($event.target.value, row, 'restClose',i)"/>
<!--                                <i-input v-model="item.NCLOSE" />-->
                            </i-col>
                            <i-col span="8" v-show="row.timerange_arr.length > 1">
                                <i-button ghost type="error" @click="handleMinusRest(row.timerange_arr, i);removeRestList(row._index,i)">-</i-button>
                            </i-col>
                        </Row>
                        <i-button
                                class="mt5"
                                size="small"
                                ghost
                                type="success"
                                long
                                @click="handleAddRest(row.timerange_arr);"
                                v-show="row.timerange_arr.length < 4"
                        >+
                        </i-button>
                    </div>
                    <span v-for="(item,i) of row.timerange_arr" :key="i" v-else>{{item.NOPEN|handleTime}}-{{item.NCLOSE|handleTime}}</span>
                </template>

                <template slot-scope="{ row }" slot="remark">
                    <i-input v-model="row.tda_ccomment_p" v-if="isAdmin && isEditable" @on-blur="handleCheck($event.target.value, row, 'remark')"></i-input>
                    <span v-else>{{ row.tda_ccomment_p }}</span>
                </template>


            </i-table>
        </div>
        <span class="toTopBtn" @click="toTop" v-show="isScroll">
            <Icon size="24" type="md-arrow-round-up" />
        </span>
    </main>
    <div th:replace="layout/script::common_script"></div>
    <script type="text/babel" th:inline="javascript">
        const WORK_YEAR_SCHEDULE = new Vue({
            el: '.workyearschedule-warp',
            data() {
                return {
                    restList:[],
                    value: [],
                    selectDisabled:false,
                    workPatternSelected: "TMG_PATTERN|",
                    columnsAction: [
                        {
                            title: '区分',
                            slot: 'workDivision',
                            align: 'center'
                        },
                        {
                            title: '出張',
                            slot: 'workFar',
                            align: 'center'
                        },
                        {
                            title: '開始時間',
                            slot: 'startTime',
                            align: 'center'
                        },
                        {
                            title: '終了時間',
                            slot: 'endTime',
                            align: 'center'
                        },
                        {
                            title: '休憩',
                            slot: 'restTime',
                            align: 'center'
                        },
                        {
                            title: '一括適用/クリア',
                            slot: 'option',
                            align: 'center'
                        }
                    ],
                    columnsActionData: [{ JSON: {} }],
                    isEditable: false,
                    isAdmin: true,
                    selectScheduleInfo:{},
                    selectIkkaInfo:{},
                    workPatternList:[],
                    kubunnList:[],
                    syuccyouList:[],
                    paidHolidayVO:{},
                    scheduleDataDTOList:[],

                    loading: false,             //ローディングアクション-->

                    comment: '',
                    contentScrollTop: 0,
                    kanjiName: '',　         　 //選択した職員の氏名


                    isScroll: false,
                    data: [],

                    referListObject: {       //組織ツリー共通
                        [[${ TREEVIEW_KEY_PERM_TARGET_SECTION }]]: '',
                        [[${ TREEVIEW_KEY_PERM_TARGET_EMP }]]: '',
                        [[${ TREEVIEW_KEY_PERM_TARGET_GROUP }]]: '',
                        [[${ TREEVIEW_KEY_RECORD_DATE }]]: '',
                        [[${ TREEVIEW_KEY_REFRESH_FLG }]]: '',
                        hidSearchItems:'EMPLOYEEID',
                        hidSearchCondition:'BROADMATCH',
                        hidSearchData:'',
                        txtTmgReferListTreeViewRecordDate: '',
                        psSite: Utils.getUrlParam(location.href, 'psSite'),
                        psApp: Utils.getUrlParam(location.href,'psApp'),
                        type: 11
                    },

                    selectedDeptViewType: 3,
                    empDeptLoading: false,  // 組織ツリーloading用
                    deptDrawShow: false,    //組織ツリー用
                    treeData:[],            //組織ツリー用
                    empTreeData: [],        //組織ツリー用
                    searchConditionsList: [],//組織ツリー用
                    searchTypesList: [],     //組織ツリー用
                    deptName: '選んでください',   //選択した職員の所属

                    query: {
                        psSite: Utils.getUrlParam(location.href, 'psSite'),
                        psApp: Utils.getUrlParam(location.href,'psApp'),
                        txtBaseDate:'',
                        txtEndDate:'',
                        txtTmgReferListTreeViewPermTargetSection: '',
                        txtTmgReferListTreeViewPermTargetEmp:''
                    },


                }
            },
            async mounted() {
                console.log([[${ session }]])
                this.getOrgTree()
                this.getSearchCondition()
            },
            computed: {
                curSelectedWorkPattern() {
                    const CPATTERNID = this.workPatternSelected
                    return this.workPatternList.find(e => e.CPATTERNID === CPATTERNID)
                },
                tableHeadFixed() {
                    if (this.contentScrollTop > 300) return true
                    else return false
                },
                columns() {
                    let result= [
                        {
                            title: '日',
                             slot: 'intDay',
                            width: 100,
                            align: 'center'
                        },
                        {
                            title: '区分',
                            minWidth: 36,
                            slot: 'workDivision',
                            align: 'center'
                        },
                        {
                            title: '出張',
                            slot: 'workFar',
                            align: 'center'
                        },
                        {
                            title: '勤務予定',
                            align: 'center',
                            children: [
                                {
                                    title: '始業',
                                    align: 'center',
                                    minWidth: 36,
                                    slot: 'workStartFinal'
                                },
                                {
                                    title: '終業',
                                    minWidth: 36,
                                    slot: 'workEndFinal',
                                    align: 'center'
                                }
                            ]
                        },
                        {
                            title: '休憩',
                            minWidth: 300,
                            className: 'urgent change-line',
                            slot: 'restTimeList',
                            align: 'center'
                        },
                        {
                            title: '申請・命令',
                            minWidth: 70,
                            key: 'tda_cmessage',
                            align: 'center'
                        },
                        {
                            title: 'コメント',
                            minWidth: 70,
                            slot: 'remark',
                            tooltip: true,
                            align: 'center'
                        }
                    ]
                    if (this.isEditable) {
                        return result.concat({
                            type: 'selection',
                            width: 60,
                            align: 'center'
                        })
                    } else {
                        return result
                    }
                }
            },
            methods: {
                removeRestList(row_index,index){
                    this.value[row_index]['restList'].splice(index,1)
                    console.log("removeRestList"+JSON.stringify(this.value))

                },
                handleCheck(e, row, name,index) {
                    if(typeof this.restList[row._index]=='undefined'){
                        this.restList[row._index] = row.timerange_arr.map(item=>{
                            return {
                                restClose:item.NCLOSE,
                                restOpen:item.NOPEN
                            }
                        })
                    }
                    if(typeof this.value[row._index]=='undefined'){
                        this.value[row._index]={
                            "workId":row.tda_cworkingid_p,
                            "bussinessTripid":row.tda_cbusinesstripid_p,
                            "nclose":row.tda_nclose_p,
                            "dyyyymmdd":row.tda_ccustomerid,
                            "nopen":row.tda_nopen_p,
                            "comment":row.tda_ccomment_p,
                            "restList":this.restList[row._index]
                        }
                    }
                    if(name=='workStartFinal'){
                        this.value[row._index]['nopen']=e
                    }
                    if(name=='workEndFinal'){
                        this.value[row._index]['nclose']=e
                    }
                    if(name=='restOpen'){
                        if(typeof  this.restList[row._index][index]=='undefined'){
                            this.restList[row._index][index]={}
                        }
                        this.restList[row._index][index]['restOpen']=e
                        this.value[row._index]['restList']=this.restList[row._index]

                    }
                    if(name=="restClose"){
                        if(typeof  this.restList[row._index][index]=='undefined'){
                            this.restList[row._index][index]={}
                        }
                        this.restList[row._index][index]['restClose']=e
                        this.value[row._index]['restList']=this.restList[row._index]
                    }
                    if(name=='remark'){
                        this.value[row._index]['comment']=e
                    }


                    console.log("handleCheck"+JSON.stringify(this.value))
                },
                handleChange(e, row, name) {
                    this.restList = row.timerange_arr.map(item=>{
                        return {
                            restClose:item.NCLOSE,
                            restOpen:item.NOPEN
                        }
                    })

                    if(typeof this.value[row._index]=='undefined'){
                        this.value[row._index]={
                            "workId":row.tda_cworkingid_p,
                            "bussinessTripid":row.tda_cbusinesstripid_p,
                            "nclose":row.tda_nclose_p,
                            "dyyyymmdd":row.tda_ccustomerid,
                            "nopen":row.tda_nopen_p,
                            "comment":row.tda_ccomment_p,
                            "restList":this.restListrestList
                        }
                    }

                    if(name=='workDivision'){
                        this.value[row._index]['workId']=e
                    }
                    if(name=='workFar'){
                        this.value[row._index]['bussinessTripid']=e
                    }

                    console.log("handleChange"+JSON.stringify(this.value))

                },
                handleMinusRest(e, i) {
                    e.splice(i, 1)
                },
                handleAddRest(e) {
                    e.push({ NOPEN: '', NCLOSE: '' })
                },
                handleChangeWorkPattern() {
                    this.columnsActionData[0].JSON= this.curSelectedWorkPattern.JSON
                },
                async handleClickLeaf(e) {
                    this.deptDrawShow = false
                    const section = [[${ TREEVIEW_KEY_ADMIN_TARGET_SECTION }]]
                    this.referListObject[section] = e[0].secid
                    this.deptName = e[0].secnic
                    this.query.txtTmgReferListTreeViewPermTargetSection=e[0].secid
                    this.query.txtTmgReferListTreeViewPermTargetEmp=e[0].empid
                    this.kanjiName = e[0].empname
                    this.selectDisabled = true
                    this.getSelectScheduleInfo()
                    this.getSelectIkkaInfo()

                },
                async getSelectScheduleInfo() {
                    let data={
                        "period": "2020年04月01日～2020年04月30日",
                        "preStart": "2020/03/01",
                        "preEnd": "2020/03/31",
                        "nextStart": "",
                        "nextEnd": "",
                        "paidHolidayVO": {
                            "nationalHolidayDays": "9",
                            "dateOfRecordDays": "21",
                            "dateOfRecord": "162時間45分",
                            "npaidRestDaysHour": "39日0時0分"
                        },
                        "scheduleDataDTOList": [
                            {
                                "tda_nmmdd": "01",
                                "tda_nmmday": "水",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:00",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/01",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/01",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "780",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"780\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "02",
                                "tda_nmmday": "木",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/02",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/02",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [],
                                "timerange": "[]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "03",
                                "tda_nmmday": "金",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/03",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/03",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [],
                                "timerange": "[]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "04",
                                "tda_nmmday": "土",
                                "tda_cworkingid_mm": "所定休",
                                "tda_nopen_p": " ",
                                "tda_nclose_p": " ",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|570",
                                "tda_ccustomerid": "2020/04/04",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/04",
                                "avgworktime": "465",
                                "mgd_csparechar4": "1",
                                "timerange_arr": [],
                                "timerange": "[]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|3"
                            },
                            {
                                "tda_nmmdd": "05",
                                "tda_nmmday": "日",
                                "tda_cworkingid_mm": "法定休",
                                "tda_nopen_p": " ",
                                "tda_nclose_p": " ",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|500",
                                "tda_ccustomerid": "2020/04/05",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/05",
                                "avgworktime": "465",
                                "mgd_csparechar4": "1",
                                "timerange_arr": [],
                                "timerange": "[]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|1"
                            },
                            {
                                "tda_nmmdd": "06",
                                "tda_nmmday": "月",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/06",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/06",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "07",
                                "tda_nmmday": "火",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/07",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/07",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "08",
                                "tda_nmmday": "水",
                                "tda_cworkingid_mm": "年次休暇",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 1,
                                "tda_cworkingid_p": "TMG_WORK|010",
                                "tda_ccustomerid": "2020/04/08",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/08",
                                "avgworktime": "465",
                                "mgd_csparechar4": "1",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "09",
                                "tda_nmmday": "木",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/09",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/09",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "10",
                                "tda_nmmday": "金",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/10",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/10",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "11",
                                "tda_nmmday": "土",
                                "tda_cworkingid_mm": "所定休",
                                "tda_nopen_p": " ",
                                "tda_nclose_p": " ",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|570",
                                "tda_ccustomerid": "2020/04/11",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/11",
                                "avgworktime": "465",
                                "mgd_csparechar4": "1",
                                "timerange_arr": [],
                                "timerange": "[]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|3"
                            },
                            {
                                "tda_nmmdd": "12",
                                "tda_nmmday": "日",
                                "tda_cworkingid_mm": "法定休",
                                "tda_nopen_p": " ",
                                "tda_nclose_p": " ",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|500",
                                "tda_ccustomerid": "2020/04/12",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/12",
                                "avgworktime": "465",
                                "mgd_csparechar4": "1",
                                "timerange_arr": [],
                                "timerange": "[]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|1"
                            },
                            {
                                "tda_nmmdd": "13",
                                "tda_nmmday": "月",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/13",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/13",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "14",
                                "tda_nmmday": "火",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/14",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/14",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "15",
                                "tda_nmmday": "水",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/15",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/15",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "16",
                                "tda_nmmday": "木",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/16",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/16",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "17",
                                "tda_nmmday": "金",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/17",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/17",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "18",
                                "tda_nmmday": "土",
                                "tda_cworkingid_mm": "所定休",
                                "tda_nopen_p": " ",
                                "tda_nclose_p": " ",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|570",
                                "tda_ccustomerid": "2020/04/18",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/18",
                                "avgworktime": "465",
                                "mgd_csparechar4": "1",
                                "timerange_arr": [],
                                "timerange": "[]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|3"
                            },
                            {
                                "tda_nmmdd": "19",
                                "tda_nmmday": "日",
                                "tda_cworkingid_mm": "法定休",
                                "tda_nopen_p": " ",
                                "tda_nclose_p": " ",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|500",
                                "tda_ccustomerid": "2020/04/19",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/19",
                                "avgworktime": "465",
                                "mgd_csparechar4": "1",
                                "timerange_arr": [],
                                "timerange": "[]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|1"
                            },
                            {
                                "tda_nmmdd": "20",
                                "tda_nmmday": "月",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/20",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/20",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "21",
                                "tda_nmmday": "火",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/21",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/21",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "22",
                                "tda_nmmday": "水",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/22",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/22",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "23",
                                "tda_nmmday": "木",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/23",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/23",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "24",
                                "tda_nmmday": "金",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/24",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/24",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "25",
                                "tda_nmmday": "土",
                                "tda_cworkingid_mm": "所定休",
                                "tda_nopen_p": " ",
                                "tda_nclose_p": " ",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|570",
                                "tda_ccustomerid": "2020/04/25",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/25",
                                "avgworktime": "465",
                                "mgd_csparechar4": "1",
                                "timerange_arr": [],
                                "timerange": "[]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|3"
                            },
                            {
                                "tda_nmmdd": "26",
                                "tda_nmmday": "日",
                                "tda_cworkingid_mm": "法定休",
                                "tda_nopen_p": " ",
                                "tda_nclose_p": " ",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|500",
                                "tda_ccustomerid": "2020/04/26",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/26",
                                "avgworktime": "465",
                                "mgd_csparechar4": "1",
                                "timerange_arr": [],
                                "timerange": "[]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|1"
                            },
                            {
                                "tda_nmmdd": "27",
                                "tda_nmmday": "月",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/27",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/27",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "28",
                                "tda_nmmday": "火",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/28",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/28",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            },
                            {
                                "tda_nmmdd": "29",
                                "tda_nmmday": "水",
                                "tda_cworkingid_mm": "所定休",
                                "tda_nopen_p": " ",
                                "tda_nclose_p": " ",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|570",
                                "tda_ccustomerid": "2020/04/29",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/29",
                                "avgworktime": "465",
                                "mgd_csparechar4": "1",
                                "timerange_arr": [],
                                "timerange": "[]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|2"
                            },
                            {
                                "tda_nmmdd": "30",
                                "tda_nmmday": "木",
                                "tda_cworkingid_mm": "出勤",
                                "tda_nopen_p": "9:30",
                                "tda_nclose_p": "18:00",
                                "tda_nrestopen_p": null,
                                "tda_nrestclose_p": null,
                                "tda_cmessage": " ",
                                "tda_nlock_p": 0,
                                "tda_cworkingid_p": "TMG_WORK|000",
                                "tda_ccustomerid": "2020/04/30",
                                "tda_cstatusflg": null,
                                "tda_cbusinesstripid_p": "TMG_BUSINESS_TRIP|00",
                                "tda_cbusinesstripid_mm": "なし",
                                "tda_ccomment_p": null,
                                "tda_dmmdd": "04/30",
                                "avgworktime": "465",
                                "mgd_csparechar4": "0",
                                "timerange_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    }
                                ],
                                "timerange": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"}]",
                                "duty": null,
                                "astem_cworktypeid": "TMG_WORKERTYPE|03",
                                "json_arr": [
                                    {
                                        "NCLOSE": "765",
                                        "NOPEN": "720",
                                        "CTYPE": "REJECT",
                                        "CID": "TMG_ITEMS|PlanRest"
                                    },
                                    {
                                        "NCLOSE": "1080",
                                        "NOPEN": "570",
                                        "CTYPE": "PLAN",
                                        "CID": "TMG_ITEMS|PlanDuty"
                                    }
                                ],
                                "json": "[{\"CID\":\"TMG_ITEMS|PlanRest\",\"CTYPE\":\"REJECT\",\"NOPEN\":\"720\",\"NCLOSE\":\"765\"},{\"CID\":\"TMG_ITEMS|PlanDuty\",\"CTYPE\":\"PLAN\",\"NOPEN\":\"570\",\"NCLOSE\":\"1080\"}]",
                                "holflgCalendar": "TMG_HOLFLG|0"
                            }
                        ]
                    }
                    this.loading=true
                    try {
                       // const { data } = await this.http.get(`sys/schedule/selectScheduleInfo`, this.query)
                        this.selectScheduleInfo=data
                        this.paidHolidayVO=this.selectScheduleInfo.paidHolidayVO
                        this.scheduleDataDTOList=this.selectScheduleInfo.scheduleDataDTOList
                    } catch (error) {
                        return
                    } finally {
                        this.loading = false
                    }
                },
                async postExecuteEditMonthlyUSchedule(){
                    let OPTS={
                        monthlyScheduleEmpInfoDTOS:this.value
                    }
                    console.log("11111"+JSON.stringify(OPTS))
                    //const { data } = await this.http.post(`sys/schedule/executeEditMonthlyUSchedule`,OPTS )
                },
                async getSelectIkkaInfo() {
                    this.loading=true
                    try {
                        const { data } = await this.http.get(`sys/schedule/selectIkkaInfo`, this.query)
                        this.selectIkkaInfo=data
                        this.workPatternList=this.selectIkkaInfo.workPatternList
                        this.kubunnList=this.selectIkkaInfo.kubunnList
                        this.syuccyouList=this.selectIkkaInfo.syuccyouList
                    } catch (error) {
                        return
                    } finally {
                        this.loading = false
                    }
                },
                async getOrgTree() {
                    this.empDeptLoading = true
                    try {
                        const { groupMemberList, memberList, sectionMemberList, recordDate } = await this.http.get('sys/tree', this.referListObject)
                        // 先将数据转为标准格式，再转为可用数据
                        if(this.selectedDeptViewType === 3) {
                            this.treeData = Utils.convertTreeData(sectionMemberList)
                        }
                        if(this.selectedDeptViewType === 2) {
                            this.treeData = Utils.convertTreeData(groupMemberList)
                        }
                        if(this.selectedDeptViewType === 1) {
                            this.treeData = Utils.convertTreeData(memberList)
                        }
                        this.referListObject.txtTmgReferListTreeViewRecordDate = recordDate
                    } catch (error) {
                        return
                    } finally {
                        this.loading = false
                        this.empDeptLoading = false
                    }
                },
                async getSearchCondition() {
                    const { data } = await this.http.get('sys/tree/conditions', this.referListObject)
                    this.searchConditionsList= Object.keys(data.searchConditions).map(e=> { return { name:data.searchConditions[e], value:e }})
                    this.searchTypesList = Object.keys(data.searchTypes).map(e=> { return { name:data.searchTypes[e], value:e }})
                },
                async handleDeptDateChange(e) {
                    this.referListObject.txtTmgReferListTreeViewRecordDate = e
                    this.isSearchHistory = true
                    await this.getOrgTree()
                    this.$Notice.warning({ title:'所属図更新完了',desc:"下記の所属リストから対象を選んでください" })
                },
                async handleDeptViewTypeChange() {
                    await this.getOrgTree()
                    this.$Notice.success({ title:'所属図更新完了' })
                },
                searchOrgTree: Debounce( async function() {
                    this.empDeptLoading = true
                    try {
                        const { data } = await this.http.get('sys/tree/search', this.referListObject)
                        this.treeData = Utils.convertTreeData(data)
                        this.$Notice.success({ title:'所属図更新完了' })
                    } catch (error) {
                        return
                    } finally {
                        this.empDeptLoading = false
                    }
                }),
                handleScroll: Throttle(function(e) {
                    this.contentScrollTop = e.target.scrollTop
                    if (e.target.scrollTop > 200) {
                        this.isScroll = true
                    } else {
                        this.isScroll = false
                    }
                }, 50),
                dayRed(e) {
                    if (!e) {
                        return
                    }
                    if (e.indexOf('土') > -1 || e.indexOf('日') > -1) {
                        return 'rest-cell week-rest'
                    }
                    if (e.indexOf('休') > -1) {
                        return 'rest-cell year-rest'
                    }
                    return 'rest-cell'
                },
                preMonth() {
                    this.query.txtBaseDate=this.selectScheduleInfo.preStart
                    this.query.txtEndDate=this.selectScheduleInfo.preEnd
                    this.getSelectScheduleInfo()
                    this.getSelectIkkaInfo()
                },
                nextMonth() {
                    this.query.txtBaseDate=this.selectScheduleInfo.nextStart
                    this.query.txtEndDate=this.selectScheduleInfo.nextEnd
                    this.getSelectScheduleInfo()
                    this.getSelectIkkaInfo()
                },
                handleSelectAll2(status) {
                    console.log("handleSelectAll2"+this.$refs.selection2.length)
                    this.$refs.selection2.selectAll(status)
                },
                rowClass(row) {
                    // 表格变色
                    if (!row.dayDivisionCode || row.dayDivisionCode === '1') {
                        return ''
                    }
                    return 'sat'
                },
                toTop() {
                    const animateMachine = requestAnimationFrame(this.toTop)
                    this.$refs.layout.scrollTop = this.$refs.layout.scrollTop - this.$refs.layout.scrollTop / 5
                    if (this.$refs.layout.scrollTop === 0) {
                        cancelAnimationFrame(animateMachine)
                    }
                },

            }
        })
    </script>
</body>

</html>